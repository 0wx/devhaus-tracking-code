"use strict";(()=>{var J=Object.create;var V=Object.defineProperty,K=Object.defineProperties,W=Object.getOwnPropertyDescriptor,X=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols,q=Object.getPrototypeOf,z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var R=(e,t,i)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,B=(e,t)=>{for(var i in t||(t={}))z.call(t,i)&&R(e,i,t[i]);if(D)for(var i of D(t))ee.call(t,i)&&R(e,i,t[i]);return e},F=(e,t)=>K(e,X(t));var te=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ie=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Z(t))!z.call(e,r)&&r!==i&&V(e,r,{get:()=>t[r],enumerable:!(n=W(t,r))||n.enumerable});return e};var ne=(e,t,i)=>(i=e!=null?J(q(e)):{},ie(t||!e||!e.__esModule?V(i,"default",{value:e,enumerable:!0}):i,e));var Q=te(j=>{"use strict";j.parse=ae;j.serialize=oe;var re=Object.prototype.toString,C=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ae(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var i={},n=t||{},r=n.decode||se,l=0;l<e.length;){var a=e.indexOf("=",l);if(a===-1)break;var u=e.indexOf(";",l);if(u===-1)u=e.length;else if(u<a){l=e.lastIndexOf(";",a-1)+1;continue}var d=e.slice(l,a).trim();if(i[d]===void 0){var o=e.slice(a+1,u).trim();o.charCodeAt(0)===34&&(o=o.slice(1,-1)),i[d]=ue(o,r)}l=u+1}return i}function oe(e,t,i){var n=i||{},r=n.encode||ce;if(typeof r!="function")throw new TypeError("option encode is invalid");if(!C.test(e))throw new TypeError("argument name is invalid");var l=r(t);if(l&&!C.test(l))throw new TypeError("argument val is invalid");var a=e+"="+l;if(n.maxAge!=null){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(u)}if(n.domain){if(!C.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!C.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){var d=n.expires;if(!le(d)||isNaN(d.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+d.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.priority){var o=typeof n.priority=="string"?n.priority.toLowerCase():n.priority;switch(o){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(n.sameSite){var s=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(s){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function se(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function ce(e){return encodeURIComponent(e)}function le(e){return re.call(e)==="[object Date]"||e instanceof Date}function ue(e,t){try{return t(e)}catch(i){return e}}});var v=(e="")=>/.+:.+/g.test(e)?e.substring(0,e.search(":")):e;var y=(e,t="",i=null,n)=>{var r,l,a;if(t==="path")return window.location.pathname;if(t==="url")return window.location.href.split("?")[0];if(/.+:.+/g.test(t)){let u=t.substring(0,t.search(":")),d=t.substring(t.search(":")+1,t.length);return y(e,u,d,n)}if(t)switch(i){case"innerHTML":return e==null?void 0:e.innerHTML;case"innerHTML-parseInt":return parseInt(e.innerHTML);case"url":return window.location.href.split("?")[0];case"boolean:true":return!0;case"boolean:false":return!1;case"grabPageview":let u=n.find(s=>{var g;return((g=s==null?void 0:s.dataset)==null?void 0:g.pageviewPropertyName)===t}),d=(l=(r=u==null?void 0:u.dataset)==null?void 0:r.pageviewPropertyValue)!=null?l:"innerHTML";return y(u,t,d,n);case"grabAHref":let o=e==null?void 0:e.getAttribute("href");return o!=null&&o.includes("?")&&(o=o==null?void 0:o.split("?")[0]),(a=o!=null?o:e==null?void 0:e.innerHTML)!=null?a:"";default:return i}};var A=ne(Q(),1);function b(e=""){let t=window.location.search,i=new URLSearchParams(t),n=i==null?void 0:i.get(e);if(!n){let l=A.default.parse(document.cookie)[e];return l||(e==="utm_source"?"direct":null)}if(n)return document.cookie=A.default.serialize(e,n,{path:"/",maxAge:60*60*24*7}),n}async function H(){let e=await fetch("https://ipapi.co/json/").then(t=>t.json());window.analytics&&window.analytics.identify(e)}function E(e="",t={}){var n;H();let i=F(B({},t),{metadata:{utm_source:b("utm_source"),utm_medium:b("utm_medium"),utm_campaign:b("utm_campaign")}});window!=null&&window.analytics&&((n=window==null?void 0:window.analytics)==null||n.track(e,i))}function N(e={}){H(),window.analytics&&window.analytics.identify(e)}function _(){let e=document.querySelectorAll("[data-segment-event]"),t=document.querySelectorAll("[data-pageview-property-name]"),i=Array.from(t);e.forEach(n=>{var l,a,u,d;let r=n;if(r.tagName==="BODY"){let o=r.dataset.segmentEvent,s={};for(let g=1;g<=100;g++){let p=(l=r.dataset)==null?void 0:l["propertyName"+g],f=(a=r.dataset)==null?void 0:a["propertyValue"+g];if(p)s[v(p)]=y(r,p,f,i);else break}t.forEach(g=>{var T,S,L;let p=g,f=(T=p.dataset)==null?void 0:T.pageviewPropertyName,m=(L=(S=p.dataset)==null?void 0:S.pageviewPropertyValue)!=null?L:"innerHTML",w=v(f);if(s[v(f)]){let h=s[w];typeof h=="string"?s[w]=[h,y(p,f,m,i)]:Array.isArray(h)&&(s[w]=[...h,y(p,f,m,i)])}else p.getAttribute("data-multi-reference")==="true"?s[w]=[y(p,f,m,i)]:s[v(f)]=y(p,f,m,i)}),E(o,s)}else{let o=r.dataset.segmentEvent,s={},g={};if(o){for(let f=1;f<=100;f++){let m=(u=r.dataset)==null?void 0:u["propertyName"+f],w=(d=r.dataset)==null?void 0:d["propertyValue"+f];if(m)s[v(m)]=y(r,m,w,i);else break}let p=()=>{var f,m,w,T,S,L;if(r.tagName==="INPUT"&&r.type==="submit"||((f=r.dataset)==null?void 0:f.submitButton)==="true"){let h=r.closest("form");[...(m=h==null?void 0:h.elements)!=null?m:[]].forEach(k=>{var M,P,U;let c=k;if(c!==r){let x=c==null?void 0:c.id.toLowerCase(),O=c==null?void 0:c.value,Y=((M=c==null?void 0:c.dataset)==null?void 0:M.identify)==="true",G=((P=c==null?void 0:c.dataset)==null?void 0:P.bothIdentifyAndTrack)==="true",$=((U=c==null?void 0:c.dataset)==null?void 0:U.ignore)==="true";x&&O&&!$&&(Y||G?(g[x]=O,G&&(s[x]=O)):s[x]=O)}})}if(((w=r.dataset)==null?void 0:w.cms)==="true"){let I=r.closest("[data-wrapper]").querySelectorAll("[data-property-name]");for(let k=0;k<I.length;k++){let c=I[k],M=(T=c.dataset)==null?void 0:T.propertyName,P=(L=(S=c.dataset)==null?void 0:S.propertyValue)!=null?L:"innerHTML";s[v(M)]=y(c,M,P,i)}}E(o,s),Object.keys(g).length>0&&N(g)};r.addEventListener("click",p),r.addEventListener("auxclick",p)}}})}_();})();
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
//Copyright (c) 2023 Devhaus Pte Ltd
