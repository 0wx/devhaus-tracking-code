"use strict";(()=>{var C=Object.defineProperty,R=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var U=(e,t,i)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,x=(e,t)=>{for(var i in t||(t={}))D.call(t,i)&&U(e,i,t[i]);if(G)for(var i of G(t))F.call(t,i)&&U(e,i,t[i]);return e},B=(e,t)=>R(e,$(t));var Q=window.location.search,I=new URLSearchParams(Q);function L(e=""){let t=I==null?void 0:I.get(e);return!t&&e==="utm_source"?"direct":t}function b(e="",t={},i=!1){var M;let h=B(x({},t),{metadata:{utm_source:L("utm_source"),utm_medium:L("utm_medium"),utm_campaign:L("utm_campaign")}});window!=null&&window.analytics?(i&&console.log(`Segment - ${e}`,h),(M=window==null?void 0:window.analytics)==null||M.track(e,h)):console.log(`FAILED SEND TO SEGMENT: ${e}`)}function S(e={},t=!1){window.analytics&&(t&&console.log("Segment - Identify",e),window.analytics.identify(e))}function k(e=!1){let t=document.querySelectorAll("[data-segment-event]"),i=document.querySelectorAll("[data-pageview-property-name]"),h=Array.from(i);t.forEach(M=>{var P,V,A,O;let r=M,v=(o="")=>/.+:.+/g.test(o)?o.substring(0,o.search(":")):o,w=(o,n="",l=null)=>{var s,c;if(n==="path")return window.location.pathname;if(/.+:.+/g.test(n)){let u=n.substring(0,n.search(":")),g=n.substring(n.search(":")+1,n.length);return w(o,u,g)}else if(n)switch(l){case"innerHTML":return o==null?void 0:o.innerHTML;case"innerHTML-parseInt":return parseInt(o.innerHTML);case"boolean:true":return!0;case"boolean:false":return!1;case"grabPageview":let u=h.find(p=>{var f;return((f=p==null?void 0:p.dataset)==null?void 0:f.pageviewPropertyName)===n}),g=(c=(s=u==null?void 0:u.dataset)==null?void 0:s.pageviewPropertyValue)!=null?c:"innerHTML";return w(u,n,g);default:return l}};if(r.tagName==="BODY"){let o=r.dataset.segmentEvent,n={};for(let l=1;l<=100;l++){let s=(P=r.dataset)==null?void 0:P["propertyName"+l],c=(V=r.dataset)==null?void 0:V["propertyValue"+l];if(s)n[v(s)]=w(r,s,c);else break}i.forEach(l=>{var g,p,f;let s=l,c=(g=s.dataset)==null?void 0:g.pageviewPropertyName,u=(f=(p=s.dataset)==null?void 0:p.pageviewPropertyValue)!=null?f:"innerHTML";n[v(c)]=w(s,c,u)}),b(o,n,e)}else{let o=r.dataset.segmentEvent,n={},l={};if(o){for(let s=1;s<=100;s++){let c=(A=r.dataset)==null?void 0:A["propertyName"+s],u=(O=r.dataset)==null?void 0:O["propertyValue"+s];if(c)n[v(c)]=w(r,c,u);else break}r.addEventListener("click",()=>{var s,c,u,g,p,f,_,E;if(r.tagName==="INPUT"&&r.type==="submit"||((s=r.dataset)==null?void 0:s.submitButton)==="true"){let H=r.closest("form"),d=H==null?void 0:H.elements;for(let y=0;y<(d==null?void 0:d.length);y++){let a=d==null?void 0:d[y];if((d==null?void 0:d[y])!==r){let m=a==null?void 0:a.id.toLowerCase(),T=a==null?void 0:a.value,N=((c=a==null?void 0:a.dataset)==null?void 0:c.identify)==="true",j=((u=a==null?void 0:a.dataset)==null?void 0:u.bothIdentifyAndTrack)==="true",q=((g=a==null?void 0:a.dataset)==null?void 0:g.ignore)==="true";m&&T&&!q&&(N||j?(l[m]=T,j&&(n[m]=T)):n[m]=T)}}}if(((p=r.dataset)==null?void 0:p.cms)==="true"){let d=r.closest("[data-wrapper]").querySelectorAll("[data-property-name]");for(let y=0;y<d.length;y++){let a=d[y],m=(f=a.dataset)==null?void 0:f.propertyName,T=(E=(_=a.dataset)==null?void 0:_.propertyValue)!=null?E:"innerHTML";n[v(m)]=w(a,m,T)}}b(o,n,e),Object.keys(l).length>0&&S(l,e)})}}})}k();})();
