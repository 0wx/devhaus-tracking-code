"use strict";(()=>{var $=Object.create;var x=Object.defineProperty,J=Object.defineProperties,K=Object.getOwnPropertyDescriptor,W=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols,Z=Object.getPrototypeOf,G=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var R=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||(t={}))G.call(t,n)&&R(e,n,t[n]);if(D)for(var n of D(t))q.call(t,n)&&R(e,n,t[n]);return e},B=(e,t)=>J(e,W(t));var ee=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var te=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of X(t))!G.call(e,r)&&r!==n&&x(e,r,{get:()=>t[r],enumerable:!(i=K(t,r))||i.enumerable});return e};var ie=(e,t,n)=>(n=e!=null?$(Z(e)):{},te(t||!e||!e.__esModule?x(n,"default",{value:e,enumerable:!0}):n,e));var F=ee(V=>{"use strict";V.parse=re;V.serialize=ae;var ne=Object.prototype.toString,O=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function re(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var n={},i=t||{},r=i.decode||oe,s=0;s<e.length;){var a=e.indexOf("=",s);if(a===-1)break;var m=e.indexOf(";",s);if(m===-1)m=e.length;else if(m<a){s=e.lastIndexOf(";",a-1)+1;continue}var w=e.slice(s,a).trim();if(n[w]===void 0){var y=e.slice(a+1,m).trim();y.charCodeAt(0)===34&&(y=y.slice(1,-1)),n[w]=ue(y,r)}s=m+1}return n}function ae(e,t,n){var i=n||{},r=i.encode||se;if(typeof r!="function")throw new TypeError("option encode is invalid");if(!O.test(e))throw new TypeError("argument name is invalid");var s=r(t);if(s&&!O.test(s))throw new TypeError("argument val is invalid");var a=e+"="+s;if(i.maxAge!=null){var m=i.maxAge-0;if(isNaN(m)||!isFinite(m))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(m)}if(i.domain){if(!O.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!O.test(i.path))throw new TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){var w=i.expires;if(!ce(w)||isNaN(w.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+w.toUTCString()}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.priority){var y=typeof i.priority=="string"?i.priority.toLowerCase():i.priority;switch(y){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(i.sameSite){var E=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(E){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function oe(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function se(e){return encodeURIComponent(e)}function ce(e){return ne.call(e)==="[object Date]"||e instanceof Date}function ue(e,t){try{return t(e)}catch(n){return e}}});var _=ie(F(),1);function L(e=""){let t=window.location.search,n=new URLSearchParams(t),i=n==null?void 0:n.get(e);if(!i){let s=_.default.parse(document.cookie)[e];return s||(e==="utm_source"?"direct":null)}if(i)return document.cookie=_.default.serialize(e,i,{path:"/",maxAge:60*60*24*7}),i}function A(e="",t={}){var i;let n=B(z({},t),{metadata:{utm_source:L("utm_source"),utm_medium:L("utm_medium"),utm_campaign:L("utm_campaign")}});window!=null&&window.analytics&&((i=window==null?void 0:window.analytics)==null||i.track(e,n))}function j(e={}){window.analytics&&window.analytics.identify(e)}function I(){let e=document.querySelectorAll("[data-segment-event]"),t=document.querySelectorAll("[data-pageview-property-name]"),n=Array.from(t);e.forEach(i=>{var m,w,y,E;let r=i,s=(f="")=>/.+:.+/g.test(f)?f.substring(0,f.search(":")):f,a=(f,o="",p=null)=>{var d,u;if(o==="path")return window.location.pathname;if(o==="url")return window.location.href.split("?")[0];if(/.+:.+/g.test(o)){let l=o.substring(0,o.search(":")),g=o.substring(o.search(":")+1,o.length);return a(f,l,g)}if(o)switch(p){case"innerHTML":return f==null?void 0:f.innerHTML;case"innerHTML-parseInt":return parseInt(f.innerHTML);case"url":return window.location.href.split("?")[0];case"boolean:true":return!0;case"boolean:false":return!1;case"grabPageview":let l=n.find(v=>{var T;return((T=v==null?void 0:v.dataset)==null?void 0:T.pageviewPropertyName)===o}),g=(u=(d=l==null?void 0:l.dataset)==null?void 0:d.pageviewPropertyValue)!=null?u:"innerHTML";return a(l,o,g);default:return p}};if(r.tagName==="BODY"){let f=r.dataset.segmentEvent,o={};for(let p=1;p<=100;p++){let d=(m=r.dataset)==null?void 0:m["propertyName"+p],u=(w=r.dataset)==null?void 0:w["propertyValue"+p];if(d)o[s(d)]=a(r,d,u);else break}t.forEach(p=>{var v,T,S;let d=p,u=(v=d.dataset)==null?void 0:v.pageviewPropertyName,l=(S=(T=d.dataset)==null?void 0:T.pageviewPropertyValue)!=null?S:"innerHTML",g=s(u);if(o[s(u)]){let h=o[g];typeof h=="string"?o[g]=[h,a(d,u,l)]:Array.isArray(h)&&(o[g]=[...h,a(d,u,l)])}else o[s(u)]=a(d,u,l)}),A(f,o)}else{let f=r.dataset.segmentEvent,o={},p={};if(f){for(let u=1;u<=100;u++){let l=(y=r.dataset)==null?void 0:y["propertyName"+u],g=(E=r.dataset)==null?void 0:E["propertyValue"+u];if(l)o[s(l)]=a(r,l,g);else break}let d=()=>{var u,l,g,v,T,S;if(r.tagName==="INPUT"&&r.type==="submit"||((u=r.dataset)==null?void 0:u.submitButton)==="true"){let h=r.closest("form");[...(l=h==null?void 0:h.elements)!=null?l:[]].forEach(b=>{var k,M,N;let c=b;if(c!==r){let H=c==null?void 0:c.id.toLowerCase(),P=c==null?void 0:c.value,Q=((k=c==null?void 0:c.dataset)==null?void 0:k.identify)==="true",U=((M=c==null?void 0:c.dataset)==null?void 0:M.bothIdentifyAndTrack)==="true",Y=((N=c==null?void 0:c.dataset)==null?void 0:N.ignore)==="true";H&&P&&!Y&&(Q||U?(p[H]=P,U&&(o[H]=P)):o[H]=P)}})}if(((g=r.dataset)==null?void 0:g.cms)==="true"){let C=r.closest("[data-wrapper]").querySelectorAll("[data-property-name]");for(let b=0;b<C.length;b++){let c=C[b],k=(v=c.dataset)==null?void 0:v.propertyName,M=(S=(T=c.dataset)==null?void 0:T.propertyValue)!=null?S:"innerHTML";o[s(k)]=a(c,k,M)}}A(f,o),Object.keys(p).length>0&&j(p)};r.addEventListener("click",d),r.addEventListener("auxclick",d)}}})}I();})();
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
