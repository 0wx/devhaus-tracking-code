"use strict";(()=>{var Y=Object.create;var A=Object.defineProperty,$=Object.defineProperties,J=Object.getOwnPropertyDescriptor,K=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertyNames,N=Object.getOwnPropertySymbols,X=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var D=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G=(e,t)=>{for(var n in t||(t={}))R.call(t,n)&&D(e,n,t[n]);if(N)for(var n of N(t))Z.call(t,n)&&D(e,n,t[n]);return e},z=(e,t)=>$(e,K(t));var q=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ee=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of W(t))!R.call(e,r)&&r!==n&&A(e,r,{get:()=>t[r],enumerable:!(i=J(t,r))||i.enumerable});return e};var te=(e,t,n)=>(n=e!=null?Y(X(e)):{},ee(t||!e||!e.__esModule?A(n,"default",{value:e,enumerable:!0}):n,e));var B=q(x=>{"use strict";x.parse=ne;x.serialize=re;var ie=Object.prototype.toString,O=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ne(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var n={},i=t||{},r=i.decode||ae,c=0;c<e.length;){var a=e.indexOf("=",c);if(a===-1)break;var m=e.indexOf(";",c);if(m===-1)m=e.length;else if(m<a){c=e.lastIndexOf(";",a-1)+1;continue}var g=e.slice(c,a).trim();if(n[g]===void 0){var w=e.slice(a+1,m).trim();w.charCodeAt(0)===34&&(w=w.slice(1,-1)),n[g]=ce(w,r)}c=m+1}return n}function re(e,t,n){var i=n||{},r=i.encode||oe;if(typeof r!="function")throw new TypeError("option encode is invalid");if(!O.test(e))throw new TypeError("argument name is invalid");var c=r(t);if(c&&!O.test(c))throw new TypeError("argument val is invalid");var a=e+"="+c;if(i.maxAge!=null){var m=i.maxAge-0;if(isNaN(m)||!isFinite(m))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(m)}if(i.domain){if(!O.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!O.test(i.path))throw new TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){var g=i.expires;if(!se(g)||isNaN(g.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+g.toUTCString()}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.priority){var w=typeof i.priority=="string"?i.priority.toLowerCase():i.priority;switch(w){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(i.sameSite){var L=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(L){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function ae(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function oe(e){return encodeURIComponent(e)}function se(e){return ie.call(e)==="[object Date]"||e instanceof Date}function ce(e,t){try{return t(e)}catch(n){return e}}});var V=te(B(),1);function b(e=""){let t=window.location.search,n=new URLSearchParams(t),i=n==null?void 0:n.get(e);if(!i){let c=V.default.parse(document.cookie)[e];return c||(e==="utm_source"?"direct":null)}if(i)return document.cookie=V.default.serialize(e,i,{path:"/",maxAge:60*60*24*7}),i}function P(e="",t={}){var i;let n=z(G({},t),{metadata:{utm_source:b("utm_source"),utm_medium:b("utm_medium"),utm_campaign:b("utm_campaign")}});window!=null&&window.analytics&&((i=window==null?void 0:window.analytics)==null||i.track(e,n))}function _(e={}){window.analytics&&window.analytics.identify(e)}function j(){let e=document.querySelectorAll("[data-segment-event]"),t=document.querySelectorAll("[data-pageview-property-name]"),n=Array.from(t);e.forEach(i=>{var m,g,w,L;let r=i,c=(l="")=>/.+:.+/g.test(l)?l.substring(0,l.search(":")):l,a=(l,o="",d=null)=>{var u,f;if(o==="path")return window.location.pathname;if(o==="url")return window.location.href.split("?")[0];if(/.+:.+/g.test(o)){let p=o.substring(0,o.search(":")),y=o.substring(o.search(":")+1,o.length);return a(l,p,y)}if(o)switch(d){case"innerHTML":return l==null?void 0:l.innerHTML;case"innerHTML-parseInt":return parseInt(l.innerHTML);case"url":return window.location.href.split("?")[0];case"boolean:true":return!0;case"boolean:false":return!1;case"grabPageview":let p=n.find(h=>{var v;return((v=h==null?void 0:h.dataset)==null?void 0:v.pageviewPropertyName)===o}),y=(f=(u=p==null?void 0:p.dataset)==null?void 0:u.pageviewPropertyValue)!=null?f:"innerHTML";return a(p,o,y);default:return d}};if(r.tagName==="BODY"){let l=r.dataset.segmentEvent,o={};for(let d=1;d<=100;d++){let u=(m=r.dataset)==null?void 0:m["propertyName"+d],f=(g=r.dataset)==null?void 0:g["propertyValue"+d];if(u)o[c(u)]=a(r,u,f);else break}t.forEach(d=>{var y,h,v;let u=d,f=(y=u.dataset)==null?void 0:y.pageviewPropertyName,p=(v=(h=u.dataset)==null?void 0:h.pageviewPropertyValue)!=null?v:"innerHTML";o[c(f)]=a(u,f,p)}),P(l,o)}else{let l=r.dataset.segmentEvent,o={},d={};if(l){for(let u=1;u<=100;u++){let f=(w=r.dataset)==null?void 0:w["propertyName"+u],p=(L=r.dataset)==null?void 0:L["propertyValue"+u];if(f)o[c(f)]=a(r,f,p);else break}r.addEventListener("click",()=>{var u,f,p,y,h,v;if(r.tagName==="INPUT"&&r.type==="submit"||((u=r.dataset)==null?void 0:u.submitButton)==="true"){let k=r.closest("form");[...(f=k==null?void 0:k.elements)!=null?f:[]].forEach(T=>{var S,E,I;let s=T;if(s!==r){let M=s==null?void 0:s.id.toLowerCase(),H=s==null?void 0:s.value,F=((S=s==null?void 0:s.dataset)==null?void 0:S.identify)==="true",U=((E=s==null?void 0:s.dataset)==null?void 0:E.bothIdentifyAndTrack)==="true",Q=((I=s==null?void 0:s.dataset)==null?void 0:I.ignore)==="true";M&&H&&!Q&&(F||U?(d[M]=H,U&&(o[M]=H)):o[M]=H)}})}if(((p=r.dataset)==null?void 0:p.cms)==="true"){let C=r.closest("[data-wrapper]").querySelectorAll("[data-property-name]");for(let T=0;T<C.length;T++){let s=C[T],S=(y=s.dataset)==null?void 0:y.propertyName,E=(v=(h=s.dataset)==null?void 0:h.propertyValue)!=null?v:"innerHTML";o[c(S)]=a(s,S,E)}}P(l,o),Object.keys(d).length>0&&_(d)})}}})}j();})();
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
